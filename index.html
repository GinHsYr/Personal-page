<!DOCTYPE html>
<html>

<head>
  <link rel="icon" type="image/x-icon" href="images/hsyr.jpg" />
  <title>HsYrçš„ä¸ªäººç½‘é¡µ</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="assets/css/main.css" />
  <noscript>
    <link rel="stylesheet" href="assets/css/noscript.css" />
  </noscript>
  <script src="js/vue.min.js" language="JavaScript"></script>
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/html2canvas.min.js" async="async"></script>
  <style>
    img {
      border-radius: 10px;
    }
  </style>
</head>

<body class="is-preload">
  <!-- Loader -->
  <link rel="stylesheet" href="assets/css/loader.css" />
  <div class="loader">
    <div class="container">
      <h1>ğŸŠ</h1>
      <p>æ‘‡åŒ€</p>
      <p>å†å–</p>
    </div>
  </div>

  <!-- Wrapper -->
  <div id="wrapper">
    <!-- Main -->
    <section id="main">
      <!-- Screenshot Button -->
      <span style="
            display: flex;
            position: fixed;
            top: 2em;
            right: 2em;
            opacity: 0.65;
            font-size: 0.8em;
          " v-show="backButton"><button class="button small" @click="screenShot" id="screenshot">
          ä¿å­˜ç½‘é¡µæˆªå›¾
        </button></span>

      <!-- Welcome Message and Contacts -->
      <header v-show="Contacts">
        <span class="avatar"><img src="images/hsyr.jpg" alt="" style="width: 122px; height: 122px" /></span>
        <h1>HsYr</h1>
        <transition-group name="fade">
          <div v-show="defaults" key="text">
            <p>
              è¿™æ˜¯æˆ‘çš„ä¸ªäººä»‹ç»ç½‘é¡µ</p>
            <p>
              æˆ‘ä¸çŸ¥é“ä½ ä»å“ªæ‰¾åˆ°æˆ‘çš„ï¼Œä½†æ˜¯ä½ ç¡®å®æ‰¾åˆ°æˆ‘äº†ã€‚
              å¦‚æœä½ æƒ³çŸ¥é“æ›´å¤šå…³äºæˆ‘çš„ä¸œè¥¿â€¦â€¦
            </p>
            <button class="button small fit" @click="showAbout" v-bind:disabled="onTransition==1">
              å°±ç‚¹å‡»è¿™ä¸ªæŒ‰é’®å§!
            </button>
          </div>
          <div v-for="item in contacts" v-if="item.show" key="item.name" v-html="item.content"></div>
          <button class="button small" key="button" @click="hideContact(true)" style="opacity: 0.55"
            v-show="backButton">
            è¿”å›
          </button>
        </transition-group>
      </header>
      <hr />
      <footer v-show="Contacts">
        <ul class="icons">
          <li v-for="item in contacts">
            <a @click="showContact(item.name)" :class="item.icon">{{item.desc}}</a>
          </li>
        </ul>
      </footer>

      <!-- Page container -->
      <header v-show="info">
        <transition-group name="fade">
          <h1 key="title">{{ title }}</h1>
          <p key="text" v-for="text in texts">{{ text }}</p>
          <div v-html="html" key="html"></div>
          <img v-bind:src="img" key="img" style="width: 95%; height: auto" v-for="img in imgs" />
          <div key="buttons">
            <button class="button small" v-bind:disabled="(nowPage < startPage || onTransition==1)"
              @click="navigate(-1)">
              ä¸Šä¸€é¡µ
            </button>
            <button class="button small" v-bind:disabled="(nowPage >= endPage - 2 || onTransition==1)"
              @click="navigate(1)">
              ä¸‹ä¸€é¡µ
            </button>
          </div>
          <hr key="br" />
          <button @click="returnToContact" key="button" class="button fit" v-bind:disabled="onTransition==1">
            è¿”å›
          </button>
        </transition-group>
      </header>
    </section>

    <!-- Footer -->
    <footer id="footer"></footer>
  </div>

  <!-- Scripts -->
  <script>
    if ("addEventListener" in window) {
      window.addEventListener("load", function () {
        document.body.className = document.body.className.replace(
          /\bis-preload\b/,
          ""
        );
      });
      document.body.className += navigator.userAgent.match(/(MSIE|rv:11\.0)/)
        ? " is-ie"
        : "";
    }
  </script>
  <!-- Vuejs -->
  <script language="javascript">
    var mainsec = new Vue({
      el: "#main",
      data: {
        title: "", // The title of one page
        html: "", // HTML text of one page
        texts: [], // Pure texts of one page
        imgs: [], // Image url of a page's images

        startPage: 1, // First page of the website
        endPage: 3, // The last page of the website

        defaults: 1, // Show welcome message
        Contacts: 1, // Detect if to show contacts
        info: 0, // If to show designed pages
        deg: 0, // Main section rotate deg

        backButton: false,

        /*          Change things below this line               */
        //Contact info
        /**
         * æœ‰å…³ä¸‹æ–¹iconçš„ä¼˜åŒ–
         * å› ä¸‹æ–¹iconå¯ä»¥æŒ‚ä¸Šç”¨æˆ·è‡ªå·±çš„ç«™ç‚¹ï¼Œæ‰€ä»¥åšäº†å¦‚ä¸‹ä¿®æ”¹
         * jumpä¸ºtrueï¼Œä¼šç›´æ¥è·³è½¬é“¾æ¥ï¼Œé“¾æ¥ä¸ºç”¨æˆ·è‡ªå®šä¹‰çš„contentå­—æ®µ
         * jumpä¸ºfalseï¼Œåˆ™æ˜¯ä¸åŸæ¥ä¸€æ ·ã€‚
         */
        contacts: [
          {
            name: "Wechat",
            icon: "icon brands fa-weixin",
            desc: "å¾®ä¿¡",
            content: "<img src='images/WeChatQRCode.jpg' class='qr' />",
            show: false,
            jump: false,
          },
          {
            name: "Github",
            icon: "icon brands fa-github",
            desc: "Github",
            content: "https://github.com/GinHsYr",
            show: false,
            jump: true,
          },
        ],

        //Pages content
        page: [
          {
            title: "æˆ‘æ˜¯ä¸€ä¸ªé«˜ä¸­ç”Ÿ",
            texts: [
              "ç›®å‰å°±è¯»äºä¿®æ­¦ä¸€ä¸­. å–œæ¬¢éª‘è¡Œ/éŸ³ä¹/æ‘„å½±/ç¼–ç¨‹.æˆ‘äºä¸ƒå¹´çº§æ—¶è‡ªå­¦ç¼–ç¨‹, ç¼–å†™äº†è®¸å¤šè½¯ä»¶, å¤§éƒ¨åˆ†ä»£ç å¯ä»¥åœ¨æˆ‘çš„Githubä¸Šæ‰¾åˆ°.ç°åœ¨ä¸»è¦ç¼–å†™Python, Goä»£ç ",
            ],
            html: "",
            imgs: ["images/wx.jpg", "images/wx2.jpg"],
          },
          {
            title: "å…³äºç¼–ç¨‹",
            texts: ["æˆ‘ç»å¸¸å†™ä¸€äº›å°å·¥å…·æ¥æ–¹ä¾¿è‡ªå·±", "è™½ç„¶å­¦äº†è¿™ä¹ˆå¤šå¹´, ä½†å…¶å®æŒºèœçš„(", "æœ€è¿‘æˆ‘æ­£åœ¨æ·±å…¥å­¦ä¹ ä¸€äº›è¯­è¨€ç‰¹æ€§, å¸Œæœ›èƒ½å†™å‡ºæ›´ç¾è§‚ä¸”é«˜æ•ˆçš„ä»£ç ", "å¤§æ¦‚å°±è¿™äº›äº†"],
            html: "å¦‚æœä½ æ„Ÿå…´è¶£,è¯·å‚è§‚æˆ‘çš„<a link='github.com/GinHsYr'>Githubä¸»é¡µ</a>å§!",
            imgs: [""],
          },
          {
            title: "éª‘è¡Œ",
            texts: ["æœ€å¼€å§‹éª‘è¡Œæ˜¯ä¸ºäº†é™ªæˆ‘çš„æœ‹å‹ç©, ç»“æœä¸€ä¸å°å¿ƒå°±è·Œåˆ°äº†è¿™ä¸ªå¤§å‘ä¹‹ä¸­", "è™½ç„¶æ¯æ¬¡è·¯ç¨‹éƒ½æ²¡å¤šå°‘,ä½†ä¸€ä¸ªæš‘å‡ç´¯åŠ èµ·æ¥ä¹Ÿéª‘äº†700å¤škm,æœ‰å¤©æœ€è¿œéª‘äº†60km", "è¿˜æ˜¯æŒºæœ‰æˆå°±æ„Ÿçš„å“ˆå“ˆå“ˆ"],
            imgs: ["images/bg.jpg"],
            html: "",
          },
          {
            title: "å‰©ä¸‹çš„..æˆ‘è¿˜æ²¡æƒ³å¥½",
            texts: ["(å¯èƒ½ä»€ä¹ˆæ—¶å€™å¿ƒè¡€æ¥æ½®å°±ä¼šæ¥è¡¥å……)","å¦‚æœä½ æƒ³è®©æˆ‘åŠ ç‚¹ä»€ä¹ˆæˆ–è€…æƒ³äº†è§£æ›´å¤šï¼Œå¯ä»¥ç‚¹ä¸‹é¢çš„è¿”å›æŒ‰é’®ï¼Œç„¶åé€šè¿‡å„ç§æ–¹å¼è”ç³»æˆ‘!"],
            html: "",
            imgs: [""],
          },
          {
            title: "",
            texts: [""],
            html: "",
          },
        ],
        /*            Change ends here                 */

        nowPage: 0, // Pointer to current page
        onTransition: 0, //If the transition animation is on
      },
      methods: {
        showContact: function (name) {
          let num = 0;
          for (let i = 0; i < this.contacts.length; i++) {
            if (this.contacts[i].name == name) {
              num = i;
              break;
            }
          }
          if (this.contacts[num].jump == true) {
            window.open(this.contacts[num].content);
            return;
          }
          this.hideContact(false);
          this.defaults = 0;
          clearTimeout(this.timer);
          this.timer = setTimeout(() => {
            this.contacts[num].show = true;
            this.backButton = true;
          }, 500);
        },
        hideContact: function (neededDefault = true) {
          for (i = 0; i < this.contacts.length; i++) {
            this.contacts[i].show = false;
          }
          clearTimeout(this.timer);
          if (neededDefault == true) {
            this.backButton = false;
            this.timer = setTimeout(() => {
              this.defaults = 1;
            }, 500);
          }
        },
        showAbout: function () {
          this.rotateCard(-360, 1, "Y");

          var that = this;
          setTimeout(function () {
            that.info = 1;
            that.Contacts = 0;
          }, 400);
        },
        returnToContact: function () {
          this.rotateCard(360, 1, "Y");
          var that = this;
          setTimeout(function () {
            that.info = 0;
            that.Contacts = 1;
          }, 400);
        },
        rotateCard: function (deg, time, axis) {
          this.onTransition = 1;
          this.deg += deg;
          var ele = document.getElementById("main");
          ele.style.transition = "transform " + time + "s 0s";
          ele.style.transform = "rotate" + axis + "(" + this.deg + "deg)";
          var that = this;
          setTimeout(function () {
            that.onTransition = 0;
          }, time * 1000);
        },
        loadPage: function () {
          this.title = this.page[this.nowPage].title;
          this.texts = this.page[this.nowPage].texts;
          this.html = this.page[this.nowPage].html;
          this.imgs = this.page[this.nowPage].imgs;
        },
        navigate: function (m) {
          if (m == 1) {
            this.nowPage++;
            this.rotateCard(-360, 1, "Y");
            setTimeout("mainsec.loadPage()", 400);
          }
          if (m == -1) {
            this.nowPage--;
            this.rotateCard(+360, 1, "Y");
            setTimeout("mainsec.loadPage()", 400);
          }
        },
        screenShot: function () {
          var button = document.getElementById("screenshot");
          button.disabled = true;
          button.innerHTML = "æˆªå›¾ä¸­â€¦";
          html2canvas(document.body).then((canvas) => {
            var w = window.open();
            w.document.title = "ä¿å­˜æˆªå›¾";
            var i = w.document.createElement("img");
            w.document.body.appendChild(i);
            i.src = canvas.toDataURL("image/jpg");
            w.alert("é•¿æŒ‰å›¾ç‰‡æˆ–ç›´æ¥ä¿å­˜å›¾ç‰‡å³å¯");
            button.innerHTML = "ä¿å­˜ç½‘é¡µæˆªå›¾";
            button.disabled = false;
          });
        },
      },
      mounted: function () {
        this.loadPage();
        this.startPage = 1;
        this.endPage = this.page.length;
      },
    });
  </script>
  <style>
    .fade-enter-active,
    .fade-leave-active {
      transition: all 0.5s;
    }

    .fade-enter,
    .fade-leave-to {
      opacity: 0;
      transform: scale(0%, 0%);
    }

    .qr {
      text-align: center;
      width: 80%;
      height: 80%;
    }
  </style>
  <script>
    let FirstTriggered = true;
    function loaded() {
      timeout = FirstTriggered ? 1200 : 0;
      var page = getQueryVariable("page");
      if (page >= mainsec.startPage && page <= mainsec.endPage && page) {
        var m = mainsec;
        mainsec.nowPage = page - 1;
        setTimeout(function () {
          m.rotateCard(-360, 1, "Y");
          setTimeout(function () {
            m.loadPage();
            m.info = 1;
            m.Contacts = 0;
          }, 400);
        }, timeout);
      }
      if (FirstTriggered) {
        $("body").on("dblclick", "img", function () {
          window.open(this.src);
        });
      }
      if (
        getQueryVariable("showContacts") ||
        getQueryVariable("showcontacts")
      ) {
        var url;
        var browser = navigator.userAgent.toLowerCase();
        if (mainsec.info == 1) {
          mainsec.returnToContact();
        }
        if (browser.match(/MicroMessenger/i) == "micromessenger") {
          //å¾®ä¿¡æµè§ˆå™¨
          url = "https://u.wechat.com/EO3JtzoXctOZXiAG8tvYHuI";
          setTimeout(function () {
            mainsec.showContact("Wechat");
          }, 1500);
        } else if (
          browser.indexOf(" qq") != -1 &&
          browser.indexOf("mqqbrowser") != -1
        ) {
          //qqå†…ç½®æµè§ˆå™¨
          url =
            "https://qm.qq.com/cgi-bin/qm/qr?k=OZm0covTGqrELIwI0XKV6LxlKsCcLIsm";
          setTimeout(function () {
            mainsec.showContact("QQ");
          }, 1500);
        }
      }

      FirstTriggered = false;
    }
  </script>
  <script src="js/common.js"></script>
</body>

</html>